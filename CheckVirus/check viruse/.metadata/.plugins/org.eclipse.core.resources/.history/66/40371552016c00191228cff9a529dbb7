package check;

import java.time.LocalDate;
import java.time.ZoneId;
import java.util.List; 
import java.util.Map;
import java.io.*; 
import java.util.ArrayList; 
import java.util.Date;

import javax.print.attribute.standard.Compression;

public class ComparisonAccessTime
{ 
	public static boolean Comp() 
	{
		Global globals= Global.GetGlobals();
		LocalDate today = LocalDate.now();
		System.out.println(today);
		Date date = Date.from(today.atStartOfDay(ZoneId.systemDefault()).toInstant());
		Date[] todayFilesAftrS = globals.timesFilesAfterSend.get(today);////////////
		Date[] todayFilesBfrS = globals.timesFilesBeforeSend.get(today);////////////
		int numB=todayFilesBfrS.length;
		int numA=todayFilesAftrS.length;
		int count=0;//מונה את מספר תאריכי הגישה שאינם שווים 
		
		if (numA==0)//לא ניגשו היום לקבצים 
		{
			return true;
		}
	
		if (numA!=numB) //יש שינוי במספר הקבצים- מחזיר שגיאה
		{
			return false;
		}
		
		for (int i=numA; i>0 ; i--)//כל עוד יש ערכים בשתי הרשימות 
		{
			if (!todayFilesBfrS[i].equals(todayFilesAftrS[i]))//תאריכי הגישה אינם שווים
			{
				if (++count>5) // ניגשו ליותר מ-5 קבצים
				{
					return ComparisonHash.Comp();//פונקציה לבדיקת שוויון ערכי ההאש
				}
			}
		}
		return true;//לא ניגשו לקבצים אלו - הכתובת בטוחה
	}
}


